<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1 ,user-scalable=no, maximum-scale=1,width=device-width"/>
    <title>{{title}}</title>
 
    </head>

<body layout="column">

<div id="container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

<script src="http://code.highcharts.com/maps/highmaps.js"></script>
<script src="http://code.highcharts.com/maps/modules/drilldown.js"></script>
<script src="http://code.highcharts.com/mapdata/custom/world-continents.js"></script>
<script src="http://code.highcharts.com/mapdata/custom/asia.js"></script>

<script src="http://code.highcharts.com/mapdata/custom/oceania.js"></script>
<script src="http://code.highcharts.com/mapdata/custom/europe.js"></script>
<script src="http://code.highcharts.com/mapdata/custom/north-america.js"></script>
<script src="http://code.highcharts.com/mapdata/custom/south-america.js"></script>
<script>
$(function () {
      
    // Initiate the chart
    $('#container').highcharts('Map', {
        title: {
            text: 'Sales distribution over world'
        },

        chart: {
            events: {
                    
                drilldown: function (e) {
               // alert(e.point.name);
                    if (!e.seriesOptions) {
                    //alert(e.point);
                        var chart = this,
                            pointWithLatLon = function (point, latLon) {
                                return Highcharts.merge(point, chart.transformFromLatLon(latLon, 
                                         Highcharts.maps['custom/world']['hc-transform']['default']));
                            };

                                                var continent;
                        var contName;
                            switch (e.point.name) {
                            case "Asia":
                            chart.addSeriesAsDrilldown(e.point, {
                            mapData: Highcharts.maps['custom/asia'],
                            joinBy: 'hc-key',
                            click: function(){
                              alert('Hello');
                            },
                            data: [
                               {'hc-key': 'pk', value: 0},
                               {'hc-key': 'lk', value: "14261782511,399998 Rs"},
                                {'hc-key': 'kg', value: 0}
                            ],
                            dataLabels: {
                                enabled: true,
                                formatter: function () {
                                  return this.point.value + '%';
                              }
                            }
                            
                            });
                            break;
                            case "lk":
                            chart.addSeriesAsDrilldown(e.point, {
                            mapData: Highcharts.maps['countries/lk/lk-all'],
                            joinBy: 'hc-key',
                            click: function(){
                              alert('Hello');
                            },
                            data: [
                                
                            ],
                            dataLabels: {
                                enabled: true,
                                formatter: function () {
                                  return this.point.value + '%';
                              }
                            }
                            
                            });
                            break;
                          case "Europe":
                          chart.addSeriesAsDrilldown(e.point, {
                            mapData: Highcharts.maps['custom/europe'],
                            joinBy: 'hc-key',
                            data: [
                                // {'hc-key': 'dk', value: 4},
                                // {'hc-key': 'fo', value: 20},
                                // {'hc-key': 'hr', value: 40},
                                // {'hc-key': 'nl', value: 25},
                                // {'hc-key': 'ee', value: 10},
                                // {'hc-key': 'bg', value: 15},
                                // {'hc-key': 'es', value: 22},
                                // {'hc-key': 'it', value: 10},
                                // {'hc-key': 'sm', value: 16},
                                // {'hc-key': 'va', value: 26},
                                // {'hc-key': 'tr', value: 35},
                                // {'hc-key': 'mt', value: 11},
                                // {'hc-key': 'fr', value: 29},
                                // {'hc-key': 'no', value: 36},
                                // {'hc-key': 'de', value: 13},
                                // {'hc-key': 'ie', value: 19},
                                // {'hc-key': 'ua', value: 27},
                                // {'hc-key': 'fi', value: 36},
                                // {'hc-key': 'se', value: 42},
                                // {'hc-key': 'ru', value: 45},
                                // {'hc-key': 'gb', value: 14},
                                // {'hc-key': 'cy', value: 8},
                                // {'hc-key': 'pt', value: 9},
                                // {'hc-key': 'gr', value: 5},
                                // {'hc-key': 'lt', value: 33},
                                // {'hc-key': 'si', value: 11},
                                // {'hc-key': 'ba', value: 1},
                                // {'hc-key': 'mc', value: 27},
                                // {'hc-key': 'al', value: 34},
                                // {'hc-key': 'cnm', value: 43},
                                // {'hc-key': 'nc', value: 42},
                                // {'hc-key': 'rs', value: 15},
                                // {'hc-key': 'ro', value: 20},
                                // {'hc-key': 'me', value: 31},
                                // {'hc-key': 'li', value: 3},
                                // {'hc-key': 'at', value: 28},
                                // {'hc-key': 'sk', value: 26},
                                // {'hc-key': 'hu', value: 29},
                                // {'hc-key': 'ad', value: 33},
                                // {'hc-key': 'lu', value: 38},
                                // {'hc-key': 'ch', value: 17},
                                // {'hc-key': 'be', value: 11},
                                // {'hc-key': 'kv', value: 27},
                                // {'hc-key': 'pl', value: 35},
                                // {'hc-key': 'mk', value: 37},
                                // {'hc-key': 'lv', value: 7},
                                // {'hc-key': 'by', value: 12},
                                // {'hc-key': 'is', value: 25},
                                // {'hc-key': 'md', value: 30},
                                // {'hc-key': 'cz', value: 17}
                            ],
                            dataLabels: {
                                enabled: true,
                                formatter: function () {
                                  return this.point.value + '%';
                              }
                            }
                            
                            });
                            break;                      
                        }
                                                
                       
                        
                        chart.addSeries({
                            id: 'cities',
                            name: 'Cities',
                            type: 'mappoint',
                            color: 'black',
                            marker: {
                                symbol: 'circle'
                            }
                        });
                    }
                }
            }
         },
         mapNavigation: {
            enabled: true,
            buttonOptions: {
                verticalAlign: 'bottom'
            }
        },
        colorAxis: {
            min: 1,
            max: 100,
            minColor: '#E0D2F8',
            maxColor: '#280D58'
        },
        plotOptions:{
            series:{
                point:{
                    events:{
                        click: function(){
                          if(this.name){
                              console.log(this.name);
                              location.href = "srilanka.html";
                          }
                        }
                    }
                }
            }
        },
        legend: {
            enabled: false
        },
                credits: {
            enabled: false
        },
        series : [{
                name: 'World',
            data : [{
                'hc-key': 'eu',
                drilldown: true,
                value: 0
            },
             
            {
                'hc-key': 'as',
                drilldown: true,
                value: 1426178251.1399998 
            }
            
            ],
            mapData: Highcharts.maps['custom/world-continents'],
            joinBy: 'hc-key',
            dataLabels: {
                enabled: true,
                format: '{point.name}' + '<br />' + ' {point.value}' + '%'
            }
        }]
    });
});

</script>

</html>